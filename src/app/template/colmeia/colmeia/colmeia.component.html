<div class="container-fluid p-0">

    <mat-card>
        <mat-card-header class="my-3">
            <div class="mat-card-header-text">
                <mat-card-title>
                    <div class="w-50 d-inline-block text-dark">
                        <h1 class="mb-0 fw-bold">Colmeias</h1>
                    </div>
                    
                    <div class="w-50 d-inline-block text-white text-end">
                        <button mat-button type="button" class="btn-success" (click)="addColmeia()">Cadastrar</button>
                    </div>
                </mat-card-title>
            </div>
        </mat-card-header>

        <mat-card-content class="px-3">
            <div class="row mb-3">
                <div class="col">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Buscar</mat-label>
                        <input matInput #searchText (keyup)="filterTable(searchText.value)" placeholder="Código da colmeia">
                        <button mat-icon-button matSuffix>
                            <mat-icon><i class="fas fa-search"></i></mat-icon>
                        </button>
                    </mat-form-field>
                </div>
            </div>

            <div class="table-responsive mb-3" [hidden]="!dataSource || dataSource.data.length == 0">
                <table mat-table [dataSource]="dataSource" matSort matSortActive="codigo" matSortDirection="asc" class="w-100 border">
                    <ng-container matColumnDef="indice">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="col-indice">#</th>
                        <td mat-cell *matCellDef="let colmeia; let i = index" class="text-center pe-3">{{(i+1)}}</td>
                    </ng-container>
                    
                    <ng-container matColumnDef="codigo">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="col-codigo pe-2">Código</th>
                        <td mat-cell *matCellDef="let colmeia" class="text-start pe-3">{{colmeia.codigo}}</td>
                    </ng-container>
        
                    <ng-container matColumnDef="telefone">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="col-telefone pe-2">Telefone</th>
                        <td mat-cell *matCellDef="let colmeia" class="text-center pe-3">{{colmeia.telefone}}</td>
                    </ng-container>
        
                    <ng-container matColumnDef="data-cadastro">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="col-data-cadastro">Data Cadastro</th>
                        <td mat-cell *matCellDef="let colmeia" class="text-center pe-3">{{colmeia.dataCadastro | date: 'dd/MM/yyyy'}}</td>
                    </ng-container>
            
                    <ng-container matColumnDef="acao">
                        <th mat-header-cell *matHeaderCellDef class="col-acao">&nbsp;</th>
                        <td mat-cell *matCellDef="let colmeia">
                            <div class="text-end">
                                <button mat-button title="Visualizar" (click)="showColmeia(colmeia)" >
                                    <i class="fas fa-eye"></i>
                                </button>
        
                                <button mat-button title="Editar" (click)="updateColmeia(colmeia)">
                                    <i class="fas fa-pen"></i>
                                </button>
        
                                <button mat-button title="Excluir" (click)="deleteColmeia(colmeia)">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </td>
                    </ng-container>
        
                    <tr mat-header-row *matHeaderRowDef="colunas"></tr>
                    <tr mat-row *matRowDef="let row; columns: colunas;"></tr>
                </table>
            </div>

            <div *ngIf="dataSource && dataSource.data.length == 0">
                <mat-card>
                    <mat-card-content>
                        <h1 class="mb-0 text-center">Nenhuma colmeia cadastrada!</h1>
                    </mat-card-content>
                </mat-card>
            </div>
        </mat-card-content>
    </mat-card>
</div>